{"version":3,"file":"ng-zorro-antd-core-util.mjs","sources":["../../components/core/util/array.ts","../../components/core/util/check.ts","../../components/core/util/convert.ts","../../components/core/util/dom.ts","../../components/core/util/getMentions.ts","../../components/core/util/string.ts","../../components/core/util/is-promise.ts","../../components/core/util/number.ts","../../components/core/util/scroll-into-view-if-needed.ts","../../components/core/util/textarea-caret-position.ts","../../components/core/util/style.ts","../../components/core/util/text-measure.ts","../../components/core/util/measure-scrollbar.ts","../../components/core/util/ensure-in-bounds.ts","../../components/core/util/tick.ts","../../components/core/util/observable.ts","../../components/core/util/can-use-dom.ts","../../components/core/util/dynamic-css.ts","../../components/core/util/status-util.ts","../../components/core/util/public-api.ts","../../components/core/util/ng-zorro-antd-core-util.ts"],"sourcesContent":["/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nexport function toArray<T>(value: T | T[]): T[] {\n  let ret: T[];\n  if (value == null) {\n    ret = [];\n  } else if (!Array.isArray(value)) {\n    ret = [value];\n  } else {\n    ret = value;\n  }\n  return ret;\n}\n\nexport function arraysEqual<T>(array1: T[], array2: T[]): boolean {\n  if (!array1 || !array2 || array1.length !== array2.length) {\n    return false;\n  }\n\n  const len = array1.length;\n  for (let i = 0; i < len; i++) {\n    if (array1[i] !== array2[i]) {\n      return false;\n    }\n  }\n  return true;\n}\n\nexport function shallowCopyArray<T>(source: T[]): T[] {\n  return source.slice();\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { TemplateRef } from '@angular/core';\n\nimport { IndexableObject, NzSafeAny } from 'ng-zorro-antd/core/types';\n\nexport function isNotNil<T>(value: T): value is NonNullable<T> {\n  return typeof value !== 'undefined' && value !== null;\n}\n\nexport function isNil(value: unknown): value is null | undefined {\n  return typeof value === 'undefined' || value === null;\n}\n\n/**\n * Examine if two objects are shallowly equaled.\n */\nexport function shallowEqual(objA?: IndexableObject, objB?: IndexableObject): boolean {\n  if (objA === objB) {\n    return true;\n  }\n\n  if (typeof objA !== 'object' || !objA || typeof objB !== 'object' || !objB) {\n    return false;\n  }\n\n  const keysA = Object.keys(objA);\n  const keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  const bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB);\n\n  // eslint-disable-next-line @typescript-eslint/prefer-for-of\n  for (let idx = 0; idx < keysA.length; idx++) {\n    const key = keysA[idx];\n    if (!bHasOwnProperty(key)) {\n      return false;\n    }\n    if (objA[key] !== objB[key]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport function isNonEmptyString(value: NzSafeAny): boolean {\n  return typeof value === 'string' && value !== '';\n}\n\nexport function isTemplateRef(value: NzSafeAny): boolean {\n  return value instanceof TemplateRef;\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { coerceBooleanProperty, coerceCssPixelValue, coerceNumberProperty } from '@angular/cdk/coercion';\nimport { numberAttribute } from '@angular/core';\n\nimport { warn } from 'ng-zorro-antd/core/logger';\nimport { FunctionProp, NzSafeAny } from 'ng-zorro-antd/core/types';\n\nexport function toBoolean(value: unknown): boolean {\n  return coerceBooleanProperty(value);\n}\n\nexport function numberAttributeWithZeroFallback(value: unknown): number {\n  return numberAttribute(value, 0);\n}\n\nexport function numberAttributeWithOneFallback(value: unknown): number {\n  return numberAttribute(value, 1);\n}\n\nexport function toNumber(value: number | string): number;\nexport function toNumber<D>(value: number | string, fallback: D): number | D;\nexport function toNumber(value: number | string, fallbackValue: number = 0): number {\n  return coerceNumberProperty(value, fallbackValue);\n}\n\nexport function toCssPixel(value: number | string): string {\n  return coerceCssPixelValue(value);\n}\n\n// eslint-disable  no-invalid-this\n\n/**\n * Get the function-property type's value\n */\nexport function valueFunctionProp<T>(prop: FunctionProp<T> | T, ...args: NzSafeAny[]): T {\n  return typeof prop === 'function' ? (prop as FunctionProp<T>)(...args) : prop;\n}\n\nfunction propDecoratorFactory<T, D>(\n  name: string,\n  fallback: (v: T) => D\n): (target: NzSafeAny, propName: string) => void {\n  function propDecorator(\n    target: NzSafeAny,\n    propName: string,\n    originalDescriptor?: TypedPropertyDescriptor<NzSafeAny>\n  ): NzSafeAny {\n    const privatePropName = `$$__zorroPropDecorator__${propName}`;\n\n    if (Object.prototype.hasOwnProperty.call(target, privatePropName)) {\n      warn(`The prop \"${privatePropName}\" is already exist, it will be overrided by ${name} decorator.`);\n    }\n\n    Object.defineProperty(target, privatePropName, {\n      configurable: true,\n      writable: true\n    });\n\n    return {\n      get(): string {\n        return originalDescriptor && originalDescriptor.get\n          ? originalDescriptor.get.bind(this)()\n          : this[privatePropName];\n      },\n      set(value: T): void {\n        if (originalDescriptor && originalDescriptor.set) {\n          originalDescriptor.set.bind(this)(fallback(value));\n        }\n        this[privatePropName] = fallback(value);\n      }\n    };\n  }\n\n  return propDecorator;\n}\n\n/**\n * @deprecated Use input transform instead: `@Input({ transform })`\n *\n * Input decorator that handle a prop to do get/set automatically with toBoolean\n *\n * Why not using @InputBoolean alone without @Input? AOT needs @Input to be visible\n *\n * @howToUse\n * ```\n * @Input() @InputBoolean() visible: boolean = false;\n *\n * // Act as below:\n * // @Input()\n * // get visible() { return this.__visible; }\n * // set visible(value) { this.__visible = value; }\n * // __visible = false;\n * ```\n */\nexport function InputBoolean(): NzSafeAny {\n  return propDecoratorFactory('InputBoolean', toBoolean);\n}\n\n/**\n * @deprecated Use input transform instead: `@Input({ transform })`\n */\nexport function InputCssPixel(): NzSafeAny {\n  return propDecoratorFactory('InputCssPixel', toCssPixel);\n}\n\n/**\n * @deprecated Use input transform instead: `@Input({ transform })`\n */\nexport function InputNumber(fallbackValue?: NzSafeAny): NzSafeAny {\n  return propDecoratorFactory('InputNumber', (value: string | number) => toNumber(value, fallbackValue));\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n/**\n * This module provides utility functions to query DOM information or\n * set properties.\n */\n\nimport { Observable } from 'rxjs';\n\n/**\n * Silent an event by stopping and preventing it.\n */\nexport function silentEvent(e: Event): void {\n  e.stopPropagation();\n  e.preventDefault();\n}\n\nexport function getElementOffset(elem: HTMLElement): { top: number; left: number } {\n  if (!elem.getClientRects().length) {\n    return { top: 0, left: 0 };\n  }\n\n  const rect = elem.getBoundingClientRect();\n  const win = elem.ownerDocument!.defaultView;\n  return {\n    top: rect.top + win!.pageYOffset,\n    left: rect.left + win!.pageXOffset\n  };\n}\n\n/**\n * Investigate if an event is a `TouchEvent`.\n */\nexport function isTouchEvent(event: MouseEvent | TouchEvent): event is TouchEvent {\n  return event.type.startsWith('touch');\n}\n\nexport function getEventPosition(event: MouseEvent | TouchEvent): MouseEvent | Touch {\n  return isTouchEvent(event) ? event.touches[0] || event.changedTouches[0] : event;\n}\n\nexport interface MouseTouchObserverConfig {\n  end: string;\n  move: string;\n  pluckKey: string[];\n  start: string;\n\n  end$?: Observable<Event>;\n  moveResolved$?: Observable<number>;\n  startPlucked$?: Observable<number>;\n\n  filter?(e: Event): boolean;\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nexport function getRegExp(prefix: string | string[]): RegExp {\n  const prefixArray = Array.isArray(prefix) ? prefix : [prefix];\n  let prefixToken = prefixArray.join('').replace(/(\\$|\\^)/g, '\\\\$1');\n\n  if (prefixArray.length > 1) {\n    prefixToken = `[${prefixToken}]`;\n  }\n\n  return new RegExp(`(\\\\s|^)(${prefixToken})[^\\\\s]*`, 'g');\n}\n\nexport function getMentions(value: string, prefix: string | string[] = '@'): string[] {\n  if (typeof value !== 'string') {\n    return [];\n  }\n  const regex = getRegExp(prefix);\n  const mentions = value.match(regex);\n  return mentions !== null ? mentions.map(e => e.trim()) : [];\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n/**\n * Much like lodash.\n */\nexport function padStart(toPad: string, length: number, element: string): string {\n  if (toPad.length > length) {\n    return toPad;\n  }\n\n  const joined = `${getRepeatedElement(length, element)}${toPad}`;\n  return joined.slice(joined.length - length, joined.length);\n}\n\nexport function padEnd(toPad: string, length: number, element: string): string {\n  const joined = `${toPad}${getRepeatedElement(length, element)}`;\n  return joined.slice(0, length);\n}\n\nexport function getRepeatedElement(length: number, element: string): string {\n  return Array(length).fill(element).join('');\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { NzSafeAny } from 'ng-zorro-antd/core/types';\n\nexport function isPromise<T>(obj: NzSafeAny): obj is Promise<T> {\n  return !!obj && typeof obj.then === 'function' && typeof obj.catch === 'function';\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { NzSafeAny } from 'ng-zorro-antd/core/types';\n\nexport function getPercent(min: number, max: number, value: number): number {\n  return ((value - min) / (max - min)) * 100;\n}\n\nexport function getPrecision(num: number): number {\n  const numStr = num.toString();\n  const dotIndex = numStr.indexOf('.');\n  return dotIndex >= 0 ? numStr.length - dotIndex - 1 : 0;\n}\n\nexport function ensureNumberInRange(num: number, min: number, max: number): number {\n  if (isNaN(num) || num < min) {\n    return min;\n  } else if (num > max) {\n    return max;\n  } else {\n    return num;\n  }\n}\n\nexport function isNumberFinite(value: NzSafeAny): boolean {\n  return typeof value === 'number' && isFinite(value);\n}\n\nexport function toDecimal(value: number, decimal: number): number {\n  return Math.round(value * Math.pow(10, decimal)) / Math.pow(10, decimal);\n}\n\nexport function sum(input: number[], initial: number = 0): number {\n  return input.reduce((previous: number, current: number) => previous + current, initial);\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { NzSafeAny } from 'ng-zorro-antd/core/types';\n\nexport function scrollIntoView(node: HTMLElement): void {\n  const nodeAsAny = node as NzSafeAny;\n  if (nodeAsAny.scrollIntoViewIfNeeded) {\n    /* eslint-disable-next-line @typescript-eslint/dot-notation */\n    nodeAsAny.scrollIntoViewIfNeeded(false);\n    return;\n  }\n  if (node.scrollIntoView) {\n    node.scrollIntoView(false);\n    return;\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { NzSafeAny } from 'ng-zorro-antd/core/types';\n\n// from https://github.com/component/textarea-caret-position\n\n// We'll copy the properties below into the mirror div.\n// Note that some browsers, such as Firefox, do not concatenate properties\n// into their shorthand (e.g. padding-top, padding-bottom etc. -> padding),\n// so we have to list every single property explicitly.\nexport const properties = [\n  'direction', // RTL support\n  'boxSizing',\n  'width', // on Chrome and IE, exclude the scrollbar, so the mirror div wraps exactly as the textarea does\n  'height',\n  'overflowX',\n  'overflowY', // copy the scrollbar for IE\n\n  'borderTopWidth',\n  'borderRightWidth',\n  'borderBottomWidth',\n  'borderLeftWidth',\n  'borderStyle',\n\n  'paddingTop',\n  'paddingRight',\n  'paddingBottom',\n  'paddingLeft',\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/font\n  'fontStyle',\n  'fontVariant',\n  'fontWeight',\n  'fontStretch',\n  'fontSize',\n  'fontSizeAdjust',\n  'lineHeight',\n  'fontFamily',\n\n  'textAlign',\n  'textTransform',\n  'textIndent',\n  'textDecoration', // might not make a difference, but better be safe\n\n  'letterSpacing',\n  'wordSpacing',\n\n  'tabSize',\n  'MozTabSize'\n];\n\nconst isBrowser = typeof window !== 'undefined';\n\nconst isFirefox = isBrowser && (window as NzSafeAny).mozInnerScreenX != null;\n\nconst _parseInt = (str: string): number => parseInt(str, 10);\n\nexport interface Coordinates {\n  top: number;\n  left: number;\n  height: number;\n}\n\nexport function getCaretCoordinates(\n  element: HTMLInputElement | HTMLTextAreaElement,\n  position: number,\n  options?: { debug?: boolean }\n): Coordinates {\n  if (!isBrowser) {\n    throw new Error('textarea-caret-position#getCaretCoordinates should only be called in a browser');\n  }\n\n  const debug = (options && options.debug) || false;\n  if (debug) {\n    const el = document.querySelector('#input-textarea-caret-position-mirror-div');\n    if (el) {\n      el.parentNode!.removeChild(el);\n    }\n  }\n\n  // The mirror div will replicate the textarea's style\n  const div = document.createElement('div');\n  div.id = 'input-textarea-caret-position-mirror-div';\n  document.body.appendChild(div);\n\n  const style = div.style;\n\n  const computed = window.getComputedStyle ? window.getComputedStyle(element) : (element as NzSafeAny).currentStyle; // currentStyle for IE < 9\n  const isInput = element.nodeName === 'INPUT';\n\n  // Default textarea styles\n  style.whiteSpace = 'pre-wrap';\n  if (!isInput) {\n    style.wordWrap = 'break-word'; // only for textarea-s\n  }\n\n  // Position off-screen\n  style.position = 'absolute'; // required to return coordinates properly\n  if (!debug) {\n    style.visibility = 'hidden';\n  } // not 'display: none' because we want rendering\n\n  // Transfer the element's properties to the div\n  properties.forEach((prop: string) => {\n    if (isInput && prop === 'lineHeight') {\n      // Special case for <input>s because text is rendered centered and line height may be != height\n      style.lineHeight = computed.height;\n    } else {\n      // @ts-ignore\n      style[prop] = computed[prop];\n    }\n  });\n\n  if (isFirefox) {\n    // Firefox lies about the overflow property for textareas: https://bugzilla.mozilla.org/show_bug.cgi?id=984275\n    if (element.scrollHeight > _parseInt(computed.height)) {\n      style.overflowY = 'scroll';\n    }\n  } else {\n    style.overflow = 'hidden'; // for Chrome to not render a scrollbar; IE keeps overflowY = 'scroll'\n  }\n\n  div.textContent = element.value.substring(0, position);\n  // The second special handling for input type=\"text\" vs textarea:\n  // spaces need to be replaced with non-breaking spaces - http://stackoverflow.com/a/13402035/1269037\n  if (isInput) {\n    div.textContent = div.textContent.replace(/\\s/g, '\\u00a0');\n  }\n\n  const span = document.createElement('span');\n  // Wrapping must be replicated *exactly*, including when a long word gets\n  // onto the next line, with whitespace at the end of the line before (#7).\n  // The  *only* reliable way to do that is to copy the *entire* rest of the\n  // textarea's content into the <span> created at the caret position.\n  // For inputs, just '.' would be enough, but no need to bother.\n  span.textContent = element.value.substring(position) || '.'; // || because a completely empty faux span doesn't render at all\n  div.appendChild(span);\n\n  const coordinates = {\n    top: span.offsetTop + _parseInt(computed.borderTopWidth),\n    left: span.offsetLeft + _parseInt(computed.borderLeftWidth),\n    height: _parseInt(computed.lineHeight)\n  };\n\n  if (debug) {\n    span.style.backgroundColor = '#eee';\n    createDebugEle(element, coordinates);\n  } else {\n    document.body.removeChild(div);\n  }\n\n  return coordinates;\n}\n\nexport function createDebugEle(element: HTMLInputElement | HTMLTextAreaElement, coordinates: Coordinates): void {\n  const fontSize = getComputedStyle(element).getPropertyValue('font-size');\n  const rect: HTMLSpanElement = (document.querySelector('#DEBUG') as HTMLSpanElement) || document.createElement('div');\n  document.body.appendChild(rect);\n  rect.id = 'DEBUG';\n  rect.style.position = 'absolute';\n  rect.style.backgroundColor = 'red';\n  rect.style.height = fontSize;\n  rect.style.width = '1px';\n  rect.style.top = `${\n    element.getBoundingClientRect().top - element.scrollTop + window.pageYOffset + coordinates.top\n  }px`;\n  rect.style.left = `${\n    element.getBoundingClientRect().left - element.scrollLeft + window.pageXOffset + coordinates.left\n  }px`;\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { NgStyleInterface } from 'ng-zorro-antd/core/types';\n\nexport function isStyleSupport(styleName: string | string[]): boolean {\n  if (typeof window !== 'undefined' && window.document && window.document.documentElement) {\n    const styleNameList = Array.isArray(styleName) ? styleName : [styleName];\n    const { documentElement } = window.document;\n\n    return styleNameList.some(name => name in documentElement.style);\n  }\n  return false;\n}\n\nexport function getStyleAsText(styles?: NgStyleInterface): string {\n  if (!styles) {\n    return '';\n  }\n\n  return Object.keys(styles)\n    .map(key => {\n      const val = styles[key];\n      return `${key}:${typeof val === 'string' ? val : `${val}px`}`;\n    })\n    .join(';');\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { NzSafeAny } from 'ng-zorro-antd/core/types';\n\nexport interface MeasureResult {\n  finished: boolean;\n  node: Node | null;\n}\n\n// We only handle element & text node.\nconst ELEMENT_NODE = 1;\nconst TEXT_NODE = 3;\nconst COMMENT_NODE = 8;\n\nlet ellipsisContainer: HTMLParagraphElement;\n\nconst wrapperStyle = {\n  padding: '0',\n  margin: '0',\n  display: 'inline',\n  lineHeight: 'inherit'\n};\n\nexport function pxToNumber(value: string | null): number {\n  if (!value) {\n    return 0;\n  }\n\n  const match = value.match(/^\\d*(\\.\\d*)?/);\n\n  return match ? Number(match[0]) : 0;\n}\n\nfunction styleToString(style: CSSStyleDeclaration): string {\n  // There are some different behavior between Firefox & Chrome.\n  // We have to handle this ourself.\n  const styleNames: string[] = Array.prototype.slice.apply(style);\n  return styleNames.map(name => `${name}: ${style.getPropertyValue(name)};`).join('');\n}\n\nfunction mergeChildren(children: Node[]): Node[] {\n  const childList: Node[] = [];\n\n  children.forEach((child: Node) => {\n    const prevChild = childList[childList.length - 1];\n    if (prevChild && child.nodeType === TEXT_NODE && prevChild.nodeType === TEXT_NODE) {\n      (prevChild as Text).data += (child as Text).data;\n    } else {\n      childList.push(child);\n    }\n  });\n\n  return childList;\n}\n\nexport function measure(\n  originEle: HTMLElement,\n  rows: number,\n  contentNodes: Node[],\n  fixedContent: HTMLElement[],\n  ellipsisStr: string,\n  suffixStr: string = ''\n): { contentNodes: Node[]; text: string; ellipsis: boolean } {\n  if (!ellipsisContainer) {\n    ellipsisContainer = document.createElement('div');\n    ellipsisContainer.setAttribute('aria-hidden', 'true');\n    document.body.appendChild(ellipsisContainer);\n  }\n\n  // Get origin style\n  const originStyle = window.getComputedStyle(originEle);\n  const originCSS = styleToString(originStyle);\n  const lineHeight = pxToNumber(originStyle.lineHeight);\n  const maxHeight = Math.round(\n    lineHeight * (rows + 1) + pxToNumber(originStyle.paddingTop) + pxToNumber(originStyle.paddingBottom)\n  );\n  // Set shadow\n  ellipsisContainer.setAttribute('style', originCSS);\n  ellipsisContainer.style.position = 'fixed';\n  ellipsisContainer.style.left = '0';\n  ellipsisContainer.style.height = 'auto';\n  ellipsisContainer.style.minHeight = 'auto';\n  ellipsisContainer.style.maxHeight = 'auto';\n  ellipsisContainer.style.top = '-999999px';\n  ellipsisContainer.style.zIndex = '-1000';\n\n  // clean up css overflow\n  ellipsisContainer.style.textOverflow = 'clip';\n  ellipsisContainer.style.whiteSpace = 'normal';\n  (ellipsisContainer.style as NzSafeAny).webkitLineClamp = 'none';\n\n  const contentList = mergeChildren(contentNodes);\n  const container = document.createElement('div');\n  const contentContainer = document.createElement('span');\n  const suffixContainer = document.createTextNode(suffixStr);\n  const fixedContainer = document.createElement('span');\n\n  // Add styles in container\n  Object.assign(container.style, wrapperStyle);\n  Object.assign(contentContainer.style, wrapperStyle);\n  Object.assign(fixedContainer.style, wrapperStyle);\n\n  contentList.forEach(n => {\n    contentContainer.appendChild(n);\n  });\n\n  contentContainer.appendChild(suffixContainer);\n\n  fixedContent.forEach(node => {\n    fixedContainer.appendChild(node.cloneNode(true));\n  });\n  container.appendChild(contentContainer);\n  container.appendChild(fixedContainer);\n\n  // Render in the fake container\n  ellipsisContainer.appendChild(container);\n\n  // Check if ellipsis in measure div is height enough for content\n  function inRange(): boolean {\n    return ellipsisContainer.offsetHeight < maxHeight;\n  }\n\n  if (inRange()) {\n    const text = ellipsisContainer.innerHTML;\n    ellipsisContainer.removeChild(container);\n    return { contentNodes, text, ellipsis: false };\n  }\n\n  // We should clone the childNode since they're controlled by React and we can't reuse it without warning\n  const childNodes: ChildNode[] = Array.prototype.slice\n    .apply(ellipsisContainer.childNodes[0].childNodes[0].cloneNode(true).childNodes)\n    .filter(({ nodeType }: ChildNode) => nodeType !== COMMENT_NODE);\n  const fixedNodes: ChildNode[] = Array.prototype.slice.apply(\n    ellipsisContainer.childNodes[0].childNodes[1].cloneNode(true).childNodes\n  );\n  ellipsisContainer.removeChild(container);\n\n  // ========================= Find match ellipsis content =========================\n  ellipsisContainer.innerHTML = '';\n\n  // Create origin content holder\n  const ellipsisContentHolder = document.createElement('span');\n  ellipsisContainer.appendChild(ellipsisContentHolder);\n  const ellipsisTextNode = document.createTextNode(ellipsisStr + suffixStr);\n  ellipsisContentHolder.appendChild(ellipsisTextNode);\n\n  fixedNodes.forEach(childNode => {\n    ellipsisContainer.appendChild(childNode);\n  });\n\n  // Append before fixed nodes\n  function appendChildNode(node: ChildNode): void {\n    ellipsisContentHolder.insertBefore(node, ellipsisTextNode);\n  }\n\n  // Get maximum text\n  function measureText(\n    textNode: Text,\n    fullText: string,\n    startLoc: number = 0,\n    endLoc: number = fullText.length,\n    lastSuccessLoc: number = 0\n  ): MeasureResult {\n    const midLoc = Math.floor((startLoc + endLoc) / 2);\n    textNode.textContent = fullText.slice(0, midLoc);\n\n    if (startLoc >= endLoc - 1) {\n      // Loop when step is small\n      for (let step = endLoc; step >= startLoc; step -= 1) {\n        const currentStepText = fullText.slice(0, step);\n        textNode.textContent = currentStepText;\n\n        if (inRange() || !currentStepText) {\n          return step === fullText.length\n            ? {\n                finished: false,\n                node: document.createTextNode(fullText)\n              }\n            : {\n                finished: true,\n                node: document.createTextNode(currentStepText)\n              };\n        }\n      }\n    }\n    if (inRange()) {\n      return measureText(textNode, fullText, midLoc, endLoc, midLoc);\n    } else {\n      return measureText(textNode, fullText, startLoc, midLoc, lastSuccessLoc);\n    }\n  }\n\n  function measureNode(childNode: ChildNode, index: number): MeasureResult {\n    const type = childNode.nodeType;\n\n    if (type === ELEMENT_NODE) {\n      // We don't split element, it will keep if whole element can be displayed.\n      // appendChildNode(childNode);\n      if (inRange()) {\n        return {\n          finished: false,\n          node: contentList[index]\n        };\n      }\n\n      // Clean up if can not pull in\n      ellipsisContentHolder.removeChild(childNode);\n      return {\n        finished: true,\n        node: null\n      };\n    } else if (type === TEXT_NODE) {\n      const fullText = childNode.textContent || '';\n      const textNode = document.createTextNode(fullText);\n      appendChildNode(textNode);\n      return measureText(textNode, fullText);\n    }\n\n    // Not handle other type of content\n    // PS: This code should not be attached after react 16\n    return {\n      finished: false,\n      node: null\n    };\n  }\n\n  const ellipsisNodes: Node[] = [];\n  childNodes.some((childNode, index) => {\n    const { finished, node } = measureNode(childNode, index);\n    if (node) {\n      ellipsisNodes.push(node);\n    }\n    return finished;\n  });\n  const result = {\n    contentNodes: ellipsisNodes,\n    text: ellipsisContainer.innerHTML,\n    ellipsis: true\n  };\n  while (ellipsisContainer.firstChild) {\n    ellipsisContainer.removeChild(ellipsisContainer.firstChild);\n  }\n  return result;\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nlet scrollbarVerticalSize: number;\nlet scrollbarHorizontalSize: number;\n\n// Measure scrollbar width for padding body during modal show/hide\nconst scrollbarMeasure = {\n  position: 'absolute',\n  top: '-9999px',\n  width: '50px',\n  height: '50px'\n};\n\nexport function measureScrollbar(direction: 'vertical' | 'horizontal' = 'vertical', prefix: string = 'ant'): number {\n  if (typeof document === 'undefined' || typeof window === 'undefined') {\n    return 0;\n  }\n  const isVertical = direction === 'vertical';\n  if (isVertical && scrollbarVerticalSize) {\n    return scrollbarVerticalSize;\n  } else if (!isVertical && scrollbarHorizontalSize) {\n    return scrollbarHorizontalSize;\n  }\n  const scrollDiv = document.createElement('div');\n  Object.keys(scrollbarMeasure).forEach(scrollProp => {\n    // @ts-ignore\n    scrollDiv.style[scrollProp] = scrollbarMeasure[scrollProp];\n  });\n  // apply hide scrollbar className ahead\n  scrollDiv.className = `${prefix}-hide-scrollbar scroll-div-append-to-body`;\n  // Append related overflow style\n  if (isVertical) {\n    scrollDiv.style.overflowY = 'scroll';\n  } else {\n    scrollDiv.style.overflowX = 'scroll';\n  }\n  document.body.appendChild(scrollDiv);\n  let size = 0;\n  if (isVertical) {\n    size = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n    scrollbarVerticalSize = size;\n  } else {\n    size = scrollDiv.offsetHeight - scrollDiv.clientHeight;\n    scrollbarHorizontalSize = size;\n  }\n\n  document.body.removeChild(scrollDiv);\n  return size;\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nexport function ensureInBounds(value: number, boundValue: number): number {\n  return value ? (value < boundValue ? value : boundValue) : boundValue;\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { Observable, Subject } from 'rxjs';\nimport { take } from 'rxjs/operators';\n\nexport function inNextTick(): Observable<void> {\n  const timer = new Subject<void>();\n  Promise.resolve().then(() => timer.next());\n  return timer.pipe(take(1));\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { from, isObservable, Observable, of } from 'rxjs';\n\nimport { isPromise } from './is-promise';\n\nexport function wrapIntoObservable<T>(value: T | Promise<T> | Observable<T>): Observable<T> {\n  if (isObservable(value)) {\n    return value;\n  }\n\n  if (isPromise(value)) {\n    // Use `Promise.resolve()` to wrap promise-like instances.\n    return from(Promise.resolve(value));\n  }\n\n  return of(value);\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n/**\n * Sync from rc-util [https://github.com/react-component/util]\n */\nexport function canUseDom(): boolean {\n  return !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { NzSafeAny } from 'ng-zorro-antd/core/types';\n\n/**\n * Sync from rc-util [https://github.com/react-component/util]\n */\nimport { canUseDom } from './can-use-dom';\n\nconst MARK_KEY = `rc-util-key` as NzSafeAny;\n\nfunction getMark({ mark }: Options = {}): string {\n  if (mark) {\n    return mark.startsWith('data-') ? mark : `data-${mark}`;\n  }\n  return MARK_KEY;\n}\n\ninterface Options {\n  attachTo?: Element;\n  cspNonce?: string | null;\n  prepend?: boolean;\n  mark?: string;\n}\n\nfunction getContainer(option: Options): HTMLElement | Element {\n  if (option.attachTo) {\n    return option.attachTo;\n  }\n\n  const head = document.querySelector('head');\n  return head || document.body;\n}\n\nexport function injectCSS(css: string, options: Options = {}): HTMLStyleElement | null {\n  if (!canUseDom()) {\n    return null;\n  }\n\n  const styleNode = document.createElement('style');\n  if (options.cspNonce) {\n    styleNode.nonce = options.cspNonce;\n  }\n  styleNode.innerHTML = css;\n\n  const container = getContainer(options);\n  const { firstChild } = container;\n\n  if (options.prepend && container.prepend) {\n    // Use `prepend` first\n    container.prepend(styleNode);\n  } else if (options.prepend && firstChild) {\n    // Fallback to `insertBefore` like IE not support `prepend`\n    container.insertBefore(styleNode, firstChild);\n  } else {\n    container.appendChild(styleNode);\n  }\n\n  return styleNode;\n}\n\nconst containerCache = new Map<Element, Node & ParentNode>();\n\nfunction findExistNode(key: string, option: Options = {}): HTMLStyleElement {\n  const container = getContainer(option);\n\n  return Array.from(containerCache.get(container)?.children || []).find(\n    node => node.tagName === 'STYLE' && node.getAttribute(getMark(option)) === key\n  ) as HTMLStyleElement;\n}\n\nexport function removeCSS(key: string, option: Options = {}): void {\n  const existNode = findExistNode(key, option);\n\n  existNode?.parentNode?.removeChild(existNode);\n}\n\nexport function updateCSS(css: string, key: string, options: Options = {}): HTMLStyleElement | null {\n  const container = getContainer(options);\n\n  // Get real parent\n  if (!containerCache.has(container)) {\n    const placeholderStyle = injectCSS('', options);\n    // @ts-ignore\n    const { parentNode } = placeholderStyle;\n    containerCache.set(container, parentNode);\n    parentNode.removeChild(placeholderStyle);\n  }\n\n  const existNode = findExistNode(key, options);\n\n  if (existNode) {\n    if (options.cspNonce && existNode.nonce !== options.cspNonce) {\n      existNode.nonce = options.cspNonce;\n    }\n\n    if (existNode.innerHTML !== css) {\n      existNode.innerHTML = css;\n    }\n\n    return existNode;\n  }\n\n  const newNode = injectCSS(css, options);\n  newNode?.setAttribute(getMark(options), key);\n  return newNode;\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { NgClassInterface, NzValidateStatus } from 'ng-zorro-antd/core/types';\n\nexport function getStatusClassNames(\n  prefixCls: string,\n  status?: NzValidateStatus,\n  hasFeedback?: boolean\n): NgClassInterface {\n  return {\n    [`${prefixCls}-status-success`]: status === 'success',\n    [`${prefixCls}-status-warning`]: status === 'warning',\n    [`${prefixCls}-status-error`]: status === 'error',\n    [`${prefixCls}-status-validating`]: status === 'validating',\n    [`${prefixCls}-has-feedback`]: hasFeedback\n  };\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nexport * from './array';\nexport * from './check';\nexport * from './convert';\nexport * from './dom';\nexport * from './getMentions';\nexport * from './string';\nexport * from './is-promise';\nexport * from './number';\nexport * from './scroll-into-view-if-needed';\nexport * from './textarea-caret-position';\nexport * from './style';\nexport * from './text-measure';\nexport * from './measure-scrollbar';\nexport * from './ensure-in-bounds';\nexport * from './tick';\nexport * from './observable';\nexport * from './can-use-dom';\nexport * from './dynamic-css';\nexport * from './status-util';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}